---

title: 走进ipv6
tag: [ipv6,网络，基础知识]
date: 2017-03-08

---


# 走进ipv6
***
## 为何需要IPv6

**原因**：连接到网络的用户和设备每天都在增加，而我们当前进行通信依赖的是 IPv4，而IPv4 地址即将耗尽。
对于ipv4的地址，从理论上说， IPv4提供的地址只有 43亿左右，但并非每一个地址都可供我们使用，如私有地址。而全球人口已经超过70亿了，
> 解决办法：实现ipv6


**IPv6 的优点和用途**

1. IPv6提供了大量地址 `3.4xl0的38次方`，号称可以为全世界的每一粒沙子编上一个地址
2. 一个这方面的新标准是 `IPSec`. 它提供了端到端安全性,IPv6要求强制实施因特网安全协议IPSec（Internet Protocol Security），并已将其标准化，这也一定程度上缓解了网络安全问题。
3. 允许扩充。如果新的技术或应用需要时，IPV6允许协议进行扩充。
4. 最令人震撼的是效率更高了。首先. IPv6分组报头包含的字段减少了一半，这极大地提高了处理速度一一相比于IPv4. 查找速度要快得多!原来包含在 `IPv4报头` 中的很多信息都删除了，但可在基本报头字段后面添加可选的扩展报头，将这些信息或其一部分加入报头。
5. IPv6还更广泛地使用了`组播通信`(一台设备向很 多主机或一组选定的主机发送数据).因为在IPv6中的广播功能是通过组播来完成的。这也将提高网络的效率，因为通信目标方更具体了。
 IPv4大量地使用`广播`，广播令人讨厌的另一点是，它会导致网络中的每台 设备都中断。广播发送后，每台设备都必须停下手中的工作，对广播作出响应，而不管广播是否是发送给它的。
其中最糟糕的是可怕的广播风暴一一不受控制地四处 转发广播可能耗尽所有带宽，导致整个网络瘫痪。
 IPv6 还支持另外两种通信:`单播和任意播`， 其中单播与IPv4 中相同，而任意播是新增的。
任意播可将同一个地址分配给多台设备，而向该地址发送数据流时，它会被路由到共享该地址的最近主机。


**IPv4报头与IPv6报头的比较**

- 原来包含在 `IPv4` 报头 中的很多信息都删除了，但可在基本报头字段后面添加可选的扩展报头，将这些信息或其一部分加入报头。
虽然IPv6报头的字节长度是IPv4报头的两倍（40个宇节与20个字节），但IPv6拥有`简化的报头结构`。


**IPv6协议主要定义了三种地址类型**

* 单播地址：用来唯一标识一个接口，类似于IPv4中的单播地址。发送到单播地址的数据报文将被传送给此地址所标识的一个接口。
* 组播地址：用来标识一组接口（通常这组接口属于不同的节点），类似于IPv4中的组播地址。发送到组播地址的数据报文被传送给此地址所标识的所有接口。
* 任播地址：用来标识一组接口（通常这组接口属于不同的节点）。发送到任播地址的数据报文被传送给此地址所标识的一组接口中距离源节点最近（根据使用的路由协议进行度量）的一个接口。


## IPv6 地址及其表示
与Mac地址一样，IPv6地址长 128 位，这比IPv4 地址长得多。由8个地址节组成,每节包含16个地址位,以4个十六进制数书写,节与节之间用冒号分隔`2001:0db8:3c4d:0012:0000:0000:1234:56ab`
ipv6 地址包含 `8` 个用冒号分隔的编组，每组 `16` 位，并用`十六进制`表示。

*这里指出另外一点:使用 Web 浏览器连接到IPv6 设备的 HTTP 连接时，必须将IPv6 地址用方括号括起。为什么呢?因为冒号已被浏览器用来指定端口号。如 果不用方括号将地址括起，浏览器将无法识别地址。 下面是一个这样的例子:
http://[2001:0db8:3c4d:0012:0000:0000:1234:56ab]/default.html
显然，在可能的情况下，你更愿意使用名称来指定目的地(如 www.lammle.com )，但必须接受这 样的事实:有时候，不得不咬紧牙关，输入地址，虽然这样做无疑很痛苦。显然，实现IPv6 时， DNS 也极其重要。*

 **ipv6地址简化表示**
* 首先，可省略各个字段中的前导零。
                     `2001:db8:3c4d:12:0:0:1234:56ab`
* 其次，可省略两个只包含零的相邻字段，并 **用两个冒号替代** 它们，如下所示:
                      `2001:db8:3c4d:12::1234:56ab`
使用两个冒号替代了相连的全零字段。这样做时必须遵守如下规则:只能替换相连的全 零字段一次。因此，如果地址中有4个全零的字段，但它们彼此不相邻，则不能全部替换它们;

* 请记住，这里的规则是 **只能替换相连的全零字段一次** 。请看下面的地址:
                   `2001:0000:0000:0012:0000:0000:1234: 56ab`
* 不能将其简化成下面这样:
                           `2001: :12::1234:56ab`
* 相反，最多只能将其简化成这样:
                           `2001::12:0:0:1234:56ab`
*为什么呢?因为如果替换两次，设备见到该地址后，将无法判断每对冒号代表多少个字段。路由器见到这个错误的地址后，将发出这样的疑问:我是将每对冒号都替换为两个全零字段呢，还是将第一对冒号替换为 3 个全零字段，并将第二对冒号替换为 1 个全零字段?路由器无法回答这个问题，因为它没有所需的信息。*

### ipv6特殊地址
> 1. 第一个 0:0:0:0:0:0:0:0 (::) 相当于 IPv4地址 0.0.0.0，通常在使用有状态 DHCP配置时，用作主机的源地址。
> 2. 第二个0:0:0:0:0:0:0:1 (::1) 相当于 IPv4 地址 127.0.0.10    本机回送地址，协议软件遇到回送地址后都会立刻返回，不进行网络传输，主要用于测试和本机进程间的通信

## ipv6地址类型
我们熟悉 IPv4单播地址、广播地址和组播地址，它们指定了要与哪台设备(至少是多少台设备) 通信。但前面说过，`IPv6` 改变了这种三重唱局面，新增了`任意播`;另外，由于广播效率低下， IPv6不 再支持它。
下面介绍这些 IPv6地址类型和通信方法的功能。
1.  单播地址 目标地址为单播地址的分组被传输到单个接口。为均衡负载，位于多台设备中的 多个接口可使用相同的地址，但这种地址被称为任意播地址。
2. 全局单擂地址 这是典型的可路由的公有地址，与 IPv4 中的单播地址相同。全局地址以 `2000::/3` 打头。
3. 链路本地地址，类似于 IPv4 私有地址，也是不可路由的，它们以 `FE80::/10` 打头。可将它们视为一种便利的工具，让你能够为召开会议而组建临时LAN，或创建小型LAN，这些 LAN 不与因特网相连，但需要在本地共享文件和服务。  
4. 唯一的本地地址，这些地址也是不可在因特网路由的，但也基本上是全局唯一的，因此不太可能重复使用它们。唯一的本地地址设计用于替代场点本地地址，因此它们的功能几乎与IPv4私有地址相同，支持在整个场点内通信，可路由到多个本地网络。场点本地地址已于 2004年 9月废除。
5. 组播地址与ipv4中一样，目标地址为组播地址的分组被传输到该组播地址表示的所有接口。这种地址有时也被称为一对多地址。 IPv6组播地址很容易识别，它们总是以 `FF` 打头。
6. 任意播地址与组播地址一样，任意播地址也标识多个设备的多个接口，但有一个很大的差别:任意播分组只被传输到一个接口一一根据路由选择距离确定的最近接口。这种地址的特殊之处在于，可将单个任意播地址分配给多个接口。这种地址被称为"一对最近"地址。

> 部分素材来源于网络，经部分修改发布于本站，如有侵权请联系站长。

><span style="font-size:12px">本文标题: <a href="{{ permalink }}">{{ title }}</a>
文章作者: <a href="http://gdinit.cn">唐家杰</a>  
许可协议: <img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">©署名-非商用-相同方式共享 4.0</a></span>
